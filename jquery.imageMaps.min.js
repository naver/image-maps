!function(a){"function"==typeof define&&define.amd?define(["jquery"],a):a("object"==typeof exports?require("jquery"):jQuery)}(function(a){"use strict";function h(b,d){this.container=a(b),this.mapEl=null,this.svgEl=null,this.options=a.extend(!0,{},c,d),this.shapeType=this.options.shape,this.isEditMode=this.options.isEditMode,this.shapeStyle=this.options.shapeStyle,this.shapeText="",this.shapeImageUrl="",this.shapeCoords=null,this.vertexCoords=null,this.grabType=null,this.containerWidth=0,this.containerHeight=0,this.touchStartCoords={x:null,y:null},this.dragInfo={face:{x:null,y:null},vertex:{x:null,y:null}},this.shapeLimitCoords={x:30,y:30,radius:15},this.allShapeInfo={}}function i(c,e){var f=L();if(this.container.attr("usemap")){var g=this.container.attr("usemap").replace("#","");this.mapEl=a("body").find("map[name="+g+"]")}else this.mapEl=a("<map name="+f+"></map>").insertAfter(this.container),this.container.attr("usemap","#"+f);this.containerWidth=this.container.width(),this.containerHeight=this.container.height();var h=this.containerWidth,i=this.containerHeight,l=h/2,m=i/2,o=this.shapeType,p=[],q=!1;if(c=K(c),c instanceof Array)o===b.RECT||o===b.IMAGE?p=a.extend([],d.rect,c):o===b.CIRCLE?p=a.extend([],d.circle,c):o===b.ELLIPSE?p=a.extend([],d.ellipse,c):o===b.TEXT?(c[0]||(c[0]=l,q=!0),c[1]||(c[1]=m,q=!0),c[2]||(c[2]=20),p=a.extend([],d.text,c)):o===b.POLY;else{var r=.1*h,s=.1*i,t=r>=s?s:r;if(o===b.RECT)p=a.extend([],d.rect,[l-r,m-s,l+r,m+s]);else if(o===b.CIRCLE)p=a.extend([],d.circle,[l,m,t]);else if(o===b.ELLIPSE)p=a.extend([],d.ellipse,[l,m,t,t]);else if(o===b.IMAGE){var u=M(this.shapeImageUrl);r=u.width/2,s=u.height/2,p=[l-r,m-s,l+r,m+s]}else o===b.POLY}var v=this.mapEl.find("._shape_face").length,w=o,x={};o!==b.TEXT&&o!==b.IMAGE||(w=b.RECT,x=o===b.TEXT?{text:this.shapeText}:{href:this.shapeImageUrl}),j.call(this,p,f,e,v),this.setShapeCoords(p),this.updateShapeInfo(v,{coords:p,type:o,url:e,style:this.shapeStyle},x),q&&this.isEditMode&&o===b.TEXT&&n.call(this),o===b.ELLIPSE&&(w=b.CIRCLE,p=[p[0],p[1],d.ellipse[2],d.ellipse[2]]),k.call(this,w,p,e,v)}function j(b,c,d,e){var h=this.container.width(),i=this.container.height();if("undefined"!=typeof document.createElementNS){var j=this.mapEl.find("svg").get(0),k=a(j),m=this.shapeType;j||(j=document.createElementNS(f,"svg"),k=a(j),this.svgEl=k,this.isEditMode?this.attachEvents(k,[{type:"mousedown",handler:v}]):this.attachEvents(this.mapEl,[{type:"touchstart",handler:t},{type:"click touchend",handler:u}]),this.attachEvents(window,[{type:"resize",handler:y}])),j.setAttribute("width",h),j.setAttribute("height",i);var n=this.container.position();k.attr({xmlns:f,"xmlns:xlink":g,version:"1.1","data-Id":c}).css({position:"absolute",zIndex:1e3,overflow:"hidden",top:n.top,left:n.left});var o=l.call(this,m,b,d,e);k.append(o),this.mapEl.append(k)}}function k(b,c,d,e){a("<area shape="+b+" coords="+c.join(",")+" href="+(d||"#")+" data-index="+e+" "+(d?'target="_blank"':"")+">").appendTo(this.mapEl)}function l(c,d,e,g){c===b.POLY&&(c=b.POLYLINE);var h=a(document.createElementNS(f,c)),i=a(document.createElementNS(f,"g"));m.call(this,d,h);var j="default";if(this.isEditMode?j="move":""!==e&&(j="pointer"),this.setShapeStyle({cursor:j}),h.css(this.shapeStyle),c===b.TEXT&&h.css({"fill-opacity":"","stroke-opacity":""}),h.attr("data-index",g),i.append(h),this.setShapeElement(h),this.isEditMode&&"text"!==c){for(var k=o(c,d,g),l=0,n=k.length;l<n;l++)k[l].appendTo(i);this.setVertexElements(k)}return i}function m(a,c,d){c=c||this.shapeEl;var e=d?d.type:this.shapeType;e===b.RECT||e===b.IMAGE?(c.attr({x:a[0],y:a[1],class:"_shape_face"}),a[2]&&c.attr("width",a[2]-a[0]),a[3]&&c.attr("height",a[3]-a[1]),e===b.IMAGE&&(c.get(0).setAttributeNS(g,"href",d?d.href:this.shapeImageUrl),c.get(0).setAttribute("preserveAspectRatio","none"))):e===b.CIRCLE?(c.attr({cx:a[0],cy:a[1],class:"_shape_face"}),a[2]&&c.attr("r",a[2])):e===b.ELLIPSE?(c.attr({cx:a[0],cy:a[1],class:"_shape_face"}),a[2]&&c.attr("rx",a[2]),a[3]&&c.attr("ry",a[3])):e===b.TEXT?(c.attr({x:a[0],y:a[1],"font-size":a[2],class:"_shape_face"}),c.text(this.shapeText)):e===b.POLY}function n(){var a=this.shapeEl,b=a.get(0).getBBox(),c=b.width/2,d=parseFloat(a.attr("font-size"))*e/2,f=parseInt(a.attr("x"),10),g=parseInt(a.attr("y"),10),h=f-c,i=g+d;this.updateShapeInfo(a.data("index"),{coords:[h,i,a.attr("font-size")]}),a.attr({x:h,y:i})}function o(b,c,d){for(var e=null,g=[],h=q(b,c),i=0,j=h.length;i<j;i++)e=a(document.createElementNS(f,"rect")),e.attr("data-index",d).css({fill:"#ffffff",stroke:"#000000","stroke-width":2}),g.push(e);return p(h,g,b),g}function p(b,c,d){for(var e=0,f=b.length;e<f;e++){var g=b[e];a(c[e]).attr({x:g.x-3,y:g.y-3,width:7,height:7,"data-direction":g.type,class:"_shape_vertex"}).css("cursor",s(g.type))}}function q(a,c){var d=[];return a===b.RECT||a===b.IMAGE?d=[{x:c[0],y:c[1],type:"nw"},{x:c[0],y:c[3],type:"sw"},{x:c[2],y:c[1],type:"ne"},{x:c[2],y:c[3],type:"se"},{x:(c[2]-c[0])/2+c[0],y:c[1],type:"n"},{x:(c[2]-c[0])/2+c[0],y:c[3],type:"s"},{x:c[0],y:(c[3]-c[1])/2+c[1],type:"w"},{x:c[2],y:(c[3]-c[1])/2+c[1],type:"e"}]:a===b.CIRCLE?d=[{x:c[0],y:c[1]-c[2],type:"n"},{x:c[0],y:c[1]+c[2],type:"s"},{x:c[0]-c[2],y:c[1],type:"w"},{x:c[0]+c[2],y:c[1],type:"e"}]:a===b.ELLIPSE?d=[{x:c[0],y:c[1]-c[3],type:"n"},{x:c[0],y:c[1]+c[3],type:"s"},{x:c[0]-c[2],y:c[1],type:"w"},{x:c[0]+c[2],y:c[1],type:"e"}]:a===b.POLY,d}function r(a,c,e){var f=this.svgEl.find('._shape_face[data-index="'+c.data("index")+'"]');e=e||this.shapeType,e===b.TEXT?a=J(f):e===b.ELLIPSE&&(a=[a[0],a[1],d.ellipse[2]]),c.attr("coords",a.join(","))}function s(a){return a+"-resize"}function t(a){var b=a.originalEvent.touches[0];this.touchStartCoords.x=b.pageX,this.touchStartCoords.y=b.pageY}function u(b){if("area"!==b.currentTarget.tagName.toLowerCase()){if(b.preventDefault(),this.dragInfo.face.x&&this.dragInfo.face.x!==b.pageX||this.dragInfo.face.y&&this.dragInfo.face.y!==b.pageY||"svg"===b.target.tagName.toLowerCase()||"touchend"===b.type&&b.originalEvent.changedTouches[0].pageX!==this.touchStartCoords.x&&b.originalEvent.changedTouches[0].pageY!==this.touchStartCoords.y)return;var c=a(b.target),d=c.attr("data-index"),e=this.mapEl.find('area[data-index="'+d+'"]'),f=e.attr("href");"#"!==f&&window.open(e.attr("href"))}this.options.onClick.call(this,b,e.attr("href"))}function v(c){if(c.preventDefault(),"svg"!==c.target.tagName.toLowerCase()){var d=a(c.target),e=d.attr("data-index"),f=this.getShapeInfo(e),g=d.parent(),h=g.find(":first-child"),i=[],j=h.get(0).tagName.toLowerCase();if(j===b.RECT||j===b.IMAGE){var k=parseInt(h.attr("x"),10),l=parseInt(h.attr("y"),10);i=[k,l,k+parseInt(h.attr("width"),10),l+parseInt(h.attr("height"),10)],j===b.IMAGE&&this.setImageShape(h.attr("href"))}else if(j===b.CIRCLE){var k=parseInt(h.attr("cx"),10),l=parseInt(h.attr("cy"),10);i=[k,l,parseInt(h.attr("r"),10)]}else if(j===b.ELLIPSE){var k=parseInt(h.attr("cx"),10),l=parseInt(h.attr("cy"),10);i=[k,l,parseInt(h.attr("rx"),10),parseInt(h.attr("ry"),10)]}else if(j===b.TEXT){var k=parseFloat(h.attr("x")),l=parseFloat(h.attr("y")),m=parseFloat(h.attr("font-size"));i=[k,l,m],this.shapeText=h.text()}else j===b.POLYGON&&(j=b.POLY);if(this.setShapeType(j),this.setShapeElement(h),this.setShapeCoords(i),j!==b.TEXT){h.attr("data-fill",h.css("fill")),h.css("fill","#ffffff"),this.setVertexCoords(q(j,i));var n=[],o=this.mapEl.find('._shape_vertex[data-index="'+e+'"]');o.each(function(){n.push(a(this))}),this.setVertexElements(n)}d.is("._shape_face")?(this.grabType="face",B.call(this,d,c.pageX,c.pageY)):d.is("._shape_vertex")&&(this.grabType="vertex",E.call(this,d,e)),this.attachEvents(this.mapEl.parent(),[{type:"mouseup",handler:w},{type:"mousemove",handler:x}]),this.options.onSelect.call(this,c,f),this.options.onMouseDown.call(this,c,j,i)}}function w(b){var c=a(b.target),d=this.shapeEl;d.css("fill",d.attr("data-fill")),c.attr("data-movable",!1);var e=D.call(this);this.setShapeCoords(e),this.updateShapeInfo(d.data("index"),{coords:e}),this.detachEvents(this.mapEl.parent(),[{type:"mouseup",handler:w},{type:"mousemove",handler:x}]),this.options.onMouseUp.call(this,b,this.shapeType,e)}function x(c){var d=a(c.target),e=this.shapeCoords[0],f=this.shapeCoords[1],g=this.grabType,h=this.shapeType,i={};if("face"===g||"vertex"===g){if("face"===g){var j=e+c.pageX,k=f+c.pageY;i=C.call(this,j-this.dragInfo.face.x,k-this.dragInfo.face.y)}else"vertex"===g&&(i=F.call(this,c.pageX-this.svgEl.offset().left,c.pageY-this.svgEl.offset().top));h!==b.TEXT&&(this.setVertexCoords(i.vertexCoords),p(i.vertexCoords,this.vertexEls,this.shapeType));var l=parseInt(i.grabEl.attr("data-index"),10);m.call(this,i.movedCoords,this.svgEl.find('._shape_face[data-index="'+l+'"]')),r.call(this,i.movedCoords,this.mapEl.find('area[data-index="'+l+'"]')),(d.is("._shape_face")||d.is("._shape_vertex"))&&(Math.abs(this.dragInfo.face.x-c.pageX)<=1||Math.abs(this.dragInfo.face.y-c.pageY)<=1)&&this.svgEl.append(d.parent()),this.options.onMouseMove.call(this,c,h,i.movedCoords)}}function y(a){var b=this.container.width(),c=this.container.height();this.containerWidth===b&&this.containerHeight===c||A.call(this,b,c)}function z(a){var b=a[0],c=a.length<2?a[0]:a[1],d=.01*b*this.container.width(),e=.01*c*this.container.height();this.container.css({width:d+"px",height:e+"px"});var f=this;setTimeout(function(){f.svgEl&&f.svgEl.length>0&&A.call(f,d,e)},0)}function A(b,c){var d=this,e=this.allShapeInfo,f=b/this.containerWidth,g=c/this.containerHeight,h=this.container.position();this.svgEl.get(0).setAttribute("width",b),this.svgEl.get(0).setAttribute("height",c),console.log(this.container.position()),this.svgEl.css({top:h.top,left:h.left}),a.each(e,function(a,b){b.coords=I(b.coords,b.type,f,g),p(q(b.type,b.coords),d.svgEl.find('._shape_vertex[data-index="'+b.index+'"]'),b.type),m.call(d,b.coords,d.svgEl.find('._shape_face[data-index="'+b.index+'"]'),b),r.call(d,b.coords,d.mapEl.find('area[data-index="'+b.index+'"]'),b.type)}),this.containerWidth=b,this.containerHeight=c}function B(a,b,c){this.dragInfo.face.x=b,this.dragInfo.face.y=c,a.attr("data-movable",!0)}function C(a,c){var d=this.shapeEl;if("false"!==d.attr("data-movable")){var e=[],f=[],g=this.shapeType;if(g===b.RECT||g===b.IMAGE){var h=parseInt(d.attr("width"),10),i=parseInt(d.attr("height"),10),j=a+h,k=c+i;e=[a,c,j,k],f=q(b.RECT,e)}else g===b.CIRCLE?(e=[a,c,parseInt(d.attr("r"),10)],f=q(b.CIRCLE,e)):g===b.ELLIPSE?(e=[a,c,parseInt(d.attr("rx"),10),parseInt(d.attr("ry"),10)],f=q(b.ELLIPSE,e)):g===b.TEXT?e=[a,c]:g===b.POLY;return{movedCoords:e,vertexCoords:f,grabEl:d}}}function D(){var a=this.shapeEl,c=this.shapeType,d=[];if(c===b.RECT||c===b.IMAGE){var e=parseInt(a.attr("x"),10),f=parseInt(a.attr("y"),10);d=[e,f,e+parseInt(a.attr("width"),10),f+parseInt(a.attr("height"),10)]}else c===b.CIRCLE?d=[parseInt(a.attr("cx"),10),parseInt(a.attr("cy"),10),parseInt(a.attr("r"),10)]:c===b.ELLIPSE?d=[parseInt(a.attr("cx"),10),parseInt(a.attr("cy"),10),parseInt(a.attr("rx"),10),parseInt(a.attr("ry"),10)]:c===b.TEXT?d=[parseInt(a.attr("x"),10),parseInt(a.attr("y"),10)]:c===b.POLY;return d}function E(a,b){this.setVertexElement(a);var c=0;this.vertexEls.forEach(function(b,d){a.get(0)===b.get(0)&&(c=d)});var d=this.vertexCoords[c];this.dragInfo.vertex.x=d.x,this.dragInfo.vertex.y=d.y,a.attr("data-movable",!0)}function F(a,c){if("false"!==this.vertexEl.attr("data-movable")){var d=[],e=[],f=this.shapeType,g=this.vertexEl.attr("data-direction");if(f===b.RECT||f===b.IMAGE)switch(g){case"nw":d=G.call(this,[a,c,this.shapeCoords[2],this.shapeCoords[3]],g);break;case"sw":d=G.call(this,[a,this.shapeCoords[1],this.shapeCoords[2],c],g);break;case"ne":d=G.call(this,[this.shapeCoords[0],c,a,this.shapeCoords[3]],g);break;case"se":d=G.call(this,[this.shapeCoords[0],this.shapeCoords[1],a,c],g);break;case"n":d=G.call(this,[this.shapeCoords[0],c,this.shapeCoords[2],this.shapeCoords[3]],g);break;case"s":d=G.call(this,[this.shapeCoords[0],this.shapeCoords[1],this.shapeCoords[2],c],g);break;case"w":d=G.call(this,[a,this.shapeCoords[1],this.shapeCoords[2],this.shapeCoords[3]],g);break;case"e":d=G.call(this,[this.shapeCoords[0],this.shapeCoords[1],a,this.shapeCoords[3]],g)}else if(f===b.CIRCLE)switch(g){case"n":d=[this.shapeCoords[0],this.shapeCoords[1],H.call(this,this.shapeCoords[1]-c)];break;case"s":d=[this.shapeCoords[0],this.shapeCoords[1],H.call(this,c-this.shapeCoords[1])];break;case"w":d=[this.shapeCoords[0],this.shapeCoords[1],H.call(this,this.shapeCoords[0]-a)];break;case"e":d=[this.shapeCoords[0],this.shapeCoords[1],H.call(this,a-this.shapeCoords[0])]}else if(f===b.ELLIPSE)switch(g){case"n":d=[this.shapeCoords[0],this.shapeCoords[1],this.shapeCoords[2],H.call(this,this.shapeCoords[1]-c)];break;case"s":d=[this.shapeCoords[0],this.shapeCoords[1],this.shapeCoords[2],H.call(this,c-this.shapeCoords[1])];break;case"w":d=[this.shapeCoords[0],this.shapeCoords[1],H.call(this,this.shapeCoords[0]-a),this.shapeCoords[3]];break;case"e":d=[this.shapeCoords[0],this.shapeCoords[1],H.call(this,a-this.shapeCoords[0]),this.shapeCoords[3]]}else shapetype===b.POLY;return e=q(f,d),{movedCoords:d,vertexCoords:e,grabEl:this.vertexEl}}}function G(a,b){var c=a[0],d=a[1],e=a[2],f=a[3];return e-c<=this.shapeLimitCoords.x&&("se"!==b&&"ne"!==b&&"e"!==b||(e=c+this.shapeLimitCoords.x),"nw"!==b&&"sw"!==b&&"w"!==b||(c=e-this.shapeLimitCoords.x)),f-d<=this.shapeLimitCoords.y&&("se"!==b&&"sw"!==b&&"s"!==b||(f=d+this.shapeLimitCoords.y),"nw"!==b&&"ne"!==b&&"n"!==b||(d=f-this.shapeLimitCoords.y)),[c,d,e,f]}function H(a){var b=this.shapeCoords[2];return b=a<=this.shapeLimitCoords.radius?this.shapeLimitCoords.radius:a}function I(a,c,d,e){var f=[];if(c===b.RECT||c===b.IMAGE||c===b.ELLIPSE)f=[a[0]*d,a[1]*e,a[2]*d,a[3]*e];else if(c===b.CIRCLE){var g=1;g=d>=e?e:d,1===d&&(g=e),1===e&&(g=d),f=[a[0]*d,a[1]*e,a[2]*g]}else c===b.TEXT?f=[a[0]*d,a[1]*e,a[2]*d]:c===b.POLY;return f}function J(a){var b=parseFloat(a.attr("x")),c=parseFloat(a.attr("y")),d=a.get(0).getBBox(),f=d.width,g=parseFloat(a.attr("font-size"))*e/2;return[b,c-g,b+f,c]}function K(a){if(!a)return null;for(var b=[],c=0,d=a.length;c<d;c++)b.push(parseFloat(a[c]));return b}function L(){function a(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return a()+a()+"-"+a()+"-"+a()+"-"+a()+"-"+a()+a()+a()}function M(a){var b=new Image;return"naturalWidth"in b&&"string"!=typeof a?{width:a.naturalWidth,height:a.naturalHeight}:(b.src=a.src||a,{width:b.width,height:b.height})}var b={RECT:"rect",CIRCLE:"circle",ELLIPSE:"ellipse",TEXT:"text",IMAGE:"image",POLY:"poly",POLYLINE:"polyline",POLYGON:"polygon"},c={isEditMode:!1,shape:b.RECT,shapeText:"press on link",shapeStyle:{fill:"#ffffff","fill-opacity":.2,stroke:"#ffffff","stroke-width":3},onClick:a.noop,onMouseDown:a.noop,onMouseMove:a.noop,onMouseUp:a.noop,onSelect:a.noop},d={rect:[0,0,20,20],circle:[0,0,10],ellipse:[0,0,5,5],text:[0,0,12]},e=.5,f="http://www.w3.org/2000/svg",g="http://www.w3.org/1999/xlink";h.prototype.createMaps=function(b,c){var d=this.container.width();isNaN(d)||!d?this.container.one("load",a.proxy(i,this,b,c)):i.call(this,b,c)},h.prototype.setShapeType=function(a){this.shapeType=a},h.prototype.setShapeStyle=function(b){b=b||{},this.shapeStyle=a.extend({},!0,this.shapeStyle,b)},h.prototype.setUrl=function(a,b){},h.prototype.setTextShape=function(a,b){this.setShapeStyle(b),this.shapeText=a},h.prototype.setImageShape=function(a,b){this.setShapeStyle(b),this.shapeImageUrl=a},h.prototype.addShape=function(a,b,c){!!c&&this.setShapeType(c),this.createMaps(a,b)},h.prototype.removeShape=function(a){if(this.shapeEl){"undefined"==typeof a&&(a=this.shapeEl.data("index"));var b=this.mapEl.find('area[data-index="'+a+'"]'),c=this.svgEl.find('._shape_face[data-index="'+a+'"]');this.detachEvents(c,[{type:"click touchend"}]),c.parent().remove(),b.remove(),this.removeShapeInfo(a)}},h.prototype.removeAllShapes=function(){if(this.shapeEl){for(var b=this.svgEl.find("._shape_face"),c=0,d=b.length;c<d;c++)this.removeShape(a(b[c]).data("index"));this.allShapeInfo={}}},h.prototype.removeImageMaps=function(){this.removeAllShapes(),this.svgEl&&this.svgEl.remove()},h.prototype.updateShapeInfo=function(b,c,d){var e=this.allShapeInfo;c.index=b,e["shape"+b]?e["shape"+b]=a.extend(!0,{},e["shape"+b],c,d):e["shape"+b]=a.extend(!0,c,d)},h.prototype.removeShapeInfo=function(a){delete this.allShapeInfo["shape"+a]},h.prototype.getShapeInfo=function(a){return this.allShapeInfo["shape"+a]},h.prototype.getAllShapesInfo=function(){return a.extend(!0,{},this.allShapeInfo)},h.prototype.getCoordsByRatio=function(a,b,c,d){return I(a,b,c,d)},h.prototype.zoom=function(a){z.call(this,a)},h.prototype.enableClick=function(){this.attachEvents(this.svgEl.find("._shape_face"),[{type:"touchstart",handler:t},{type:"click touchend",handler:u}])},h.prototype.disableClick=function(){this.detachEvents(this.svgEl.find("._shape_face"),[{type:"touchstart",handler:t},{type:"click touchend",handler:u}])},h.prototype.setShapeCoords=function(a){this.shapeCoords=a},h.prototype.setVertexCoords=function(a){this.vertexCoords=a},h.prototype.setShapeElement=function(a){this.shapeEl=a},h.prototype.setVertexElement=function(a){this.vertexEl=a},h.prototype.setVertexElements=function(a){this.vertexEls=a},h.prototype.attachEvents=function(b,c){b=a(b);for(var d=0,e=c.length;d<e;d++)b.on(c[d].type+".area",a.proxy(c[d].handler,this))},h.prototype.detachEvents=function(b,c){b=a(b);for(var d=0,e=c.length;d<e;d++){var f=c[d].type||"",g=c[d].handler?a.proxy(c[d].handler,this):"";g?b.off(f+".area",g):b.off(f+".area")}},a.fn.extend({createMaps:function(a,b){return this.data("image_maps_inst").createMaps(a,b),this},addShape:function(a,b,c){return this.data("image_maps_inst").addShape(a,b,c),this},removeShape:function(a){return this.data("image_maps_inst").removeShape(a),this},removeAllShapes:function(){this.data("image_maps_inst").removeAllShapes()},destroy:function(){var a=this.data("image_maps_inst");a&&(a.removeImageMaps(),delete this.data("image_maps_inst"),this.data("image_maps_inst",null))},setShapeStyle:function(a){return this.data("image_maps_inst").setShapeStyle(a),this},setUrl:function(a,b){return this.data("image_maps_inst").setUrl(a,b),this},setTextShape:function(a,b){return this.data("image_maps_inst").setTextShape(a,b),this},setImageShape:function(a,b){return this.data("image_maps_inst").setImageShape(a,b),this},enableClick:function(){this.data("image_maps_inst").enableClick()},disableClick:function(){this.data("image_maps_inst").disableClick()},getAllShapes:function(){return this.data("image_maps_inst").getAllShapesInfo()},getCoordsByRatio:function(a,b,c,d){return this.data("image_maps_inst").getCoordsByRatio(a,b,c,d)},zoom:function(a){this.data("image_maps_inst").zoom(a)}}),a.fn.imageMaps=function(a){if(1===this.length){if(!this.data("image_maps_inst")){var b=new h(this,a);return this.data("image_maps_inst",b),b}return this.data("image_maps_inst")}if(this.length>1)throw new Error("Already imageMaps instance has been created.")}});
